<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visite d'Entreprise - Master Informatique</title>
    <style>
        /* --- TON DESIGN D'ORIGINE (INTACT) --- */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { overflow: hidden; margin: 0; padding: 0; }
        :fullscreen { background: inherit; }
        :-webkit-full-screen { background: inherit; }
        :-moz-full-screen { background: inherit; }

        body {
            font-family: 'Arial', sans-serif;
            /* Image de fond Assurdix */
            background-image: url('image/Assurdix.png');
            background-position: center;
            background-repeat: no-repeat;
            background-size: contain;
            overflow: hidden; margin: 0; padding: 0; height: 100vh;
        }

        /* TON EFFET DE FLOU (REMIS) */
        body::before {
            content: ''; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            /* Astuce : on utilise une couleur de fond semi-transparente pour simuler l'effet sur le logo */
            background: rgba(255, 255, 255, 0.4);
            backdrop-filter: blur(5px); /* Flou moderne */
            z-index: -2;
        }

        body::after {
            content: ''; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.1); /* Légère teinte sombre */
            z-index: -1;
        }

        .presentation-container { width: 100vw; height: 100vh; position: relative; overflow: hidden; }

        .canvas {
            width: 4000px; height: 3000px; position: absolute;
            transform: translate(-35%, -30%) scale(0.65);
            top: 50%; left: 50%; transform-origin: center center;
            transition: all 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .bg-shapes { position: absolute; width: 100%; height: 100%; pointer-events: none; }
        .shape { position: absolute; border-radius: 50px; }
        .shape-1 { width: 800px; height: 600px; background: rgba(200, 200, 200, 0.3); top: 200px; right: 300px; border-radius: 100px; transform: rotate(-15deg); }
        .shape-2 { width: 400px; height: 400px; background: rgba(180, 180, 180, 0.2); bottom: 400px; right: 800px; border-radius: 50%; }

        .symbol { position: absolute; font-size: 60px; font-weight: bold; pointer-events: none; }
        .symbol-orange { color: #ff8c00; top: 300px; right: 500px; }
        .symbol-purple { color: #9966cc; top: 200px; right: 200px; }
        .symbol-blue { color: #4da6ff; top: 500px; right: 100px; }
        .symbol-yellow { color: #ffcc00; bottom: 600px; right: 600px; }
        .symbol-pink { color: #ff69b4; bottom: 300px; right: 200px; }

        .main-view { width: 100%; height: 100%; position: relative; display: block; }

        .main-title {
            position: absolute; top: 350px; left: 200px; color: #333; font-size: 3.5rem; font-weight: bold; line-height: 1.2;
            max-width: 750px; background: rgba(160, 160, 160, 0.9); padding: 40px; border-radius: 15px;
            border: 2px solid rgba(100, 100, 100, 0.3);
        }

        .main-subtitle {
            position: absolute; top: 590px; left: 250px; color: #555; font-size: 1.6rem; font-weight: normal;
            max-width: 650px; background: rgba(160, 160, 160, 0.85); padding: 25px; border-radius: 12px;
            border: 2px solid rgba(100, 100, 100, 0.3);
        }

        .main-blocks-container { position: absolute; top: 300px; left: 1200px; width: 800px; height: 600px; }

        .main-block {
            position: absolute; background: rgba(160, 160, 160, 0.9); border-radius: 15px; padding: 30px;
            cursor: pointer; transition: all 0.3s ease; color: #333; border: 2px solid rgba(100, 100, 100, 0.3);
        }

        .main-block:hover { background: rgba(180, 180, 180, 0.95); transform: scale(1.05); }

        .block-1 { width: 350px; height: 200px; top: 0; left: 0; }
        .block-2 { width: 350px; height: 180px; top: 220px; left: 0; }
        .block-3 { width: 350px; height: 200px; top: 0; right: 0; }

        .main-block h3 { font-size: 1.8rem; margin-bottom: 15px; font-weight: bold; color: #333; }
        .main-block p { font-size: 1.1rem; color: #555; line-height: 1.4; }

        .detail-section { position: absolute; width: 3000px; height: 2000px; display: none; }
        .detail-section.active { display: block; }

        .section-1 { top: -625px; left: -800px; }
        .section-2 { top: -400px; left: 200px; }
        .section-3 { top: -460px; left: 1200px; }

        .detail-content {
            position: absolute; transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            top: 200px; left: 200px; max-width: 800px;
            background: rgba(160, 160, 160, 0.9); padding: 40px; border-radius: 15px;
            border: 2px solid rgba(100, 100, 100, 0.3);
        }
        
        /* Tes animations originales */
        .detail-content.slide-out-up { transform: translateY(-100vh); opacity: 0; }
        .detail-content.slide-in-up { transform: translateY(100vh); opacity: 0; }
        .detail-content.slide-out-down { transform: translateY(100vh); opacity: 0; }
        .detail-content.slide-in-down { transform: translateY(-100vh); opacity: 0; }
        .detail-content.active { transform: translateY(0); opacity: 1; }

        .slide-images { transition: all 0.5s ease; text-align: center; margin-top: 20px;}
        .slide-images.fade-out { opacity: 0; transform: scale(0.9); }
        .slide-img { max-width: 100%; max-height: 300px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); object-fit: contain; }

        .detail-title { font-size: 3.5rem; color: #333; font-weight: bold; margin-bottom: 30px; line-height: 1.2; }
        .detail-text { font-size: 1.6rem; color: #555; line-height: 1.6; margin-bottom: 20px; white-space: pre-line; }

        .slides-grid {
            position: absolute; top: 200px; left: 1100px; display: grid;
            grid-template-columns: repeat(3, 250px); grid-template-rows: repeat(2, 200px); gap: 30px;
        }

        .slide-preview {
            background: rgba(160, 160, 160, 0.8); border-radius: 10px; padding: 20px;
            border: 3px solid transparent; transition: all 0.3s ease; cursor: pointer;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
        }

        .slide-preview.current { border-color: #ff8c00; background: rgba(200, 200, 200, 0.9); transform: scale(1.1); }
        .slide-preview h4 { font-size: 1.2rem; color: #333; text-align: center; font-weight: bold; }
        .slide-preview p { font-size: 0.9rem; color: #666; text-align: center; margin-top: 10px; }

        .progress-indicator {
            position: fixed; top: 30px; left: 50%; transform: translateX(-50%);
            background: rgba(160, 160, 160, 0.9); border-radius: 15px; padding: 20px;
            color: #333; font-size: 1.2rem; z-index: 1000; font-weight: bold;
        }

        .fixed-year {
            position: fixed; top: 30px; left: 30px;
            background: rgba(160, 160, 160, 0.9); border-radius: 10px; padding: 15px 20px;
            color: #333; font-size: 1.2rem; font-weight: bold; z-index: 1000;
            border: 2px solid rgba(100, 100, 100, 0.3);
        }
        
        .fixed-logo-assurdix { position: fixed; top: 30px; right: 30px; width: 120px; height: auto; z-index: 1000; }
        .fixed-logo-cyu { position: fixed; bottom: 30px; left: 30px; width: 120px; height: auto; z-index: 1000; }
        
        .fixed-student-info {
            position: fixed; bottom: 30px; right: 30px;
            background: rgba(160, 160, 160, 0.9); border-radius: 10px; padding: 15px 20px;
            color: #333; font-size: 1.1rem; font-weight: bold; z-index: 1000;
            border: 2px solid rgba(100, 100, 100, 0.3);
        }
    </style>
</head>

<body>
    <div class="fixed-year">Master 1 - 2025/2026</div>
    <img src="image/Assurdix.png" alt="Logo Assurdix" class="fixed-logo-assurdix">
    <img src="image/Cyu.png" alt="Logo CY Cergy" class="fixed-logo-cyu">
    <div class="fixed-student-info">Yuksel Sinan</div>
    
    <div class="presentation-container">
        <div class="canvas" id="canvas">
            <div class="bg-shapes">
                <div class="shape shape-1"></div>
                <div class="shape shape-2"></div>
                <div class="symbol symbol-orange">○</div>
                <div class="symbol symbol-purple">+</div>
                <div class="symbol symbol-blue">✕</div>
                <div class="symbol symbol-yellow">○</div>
                <div class="symbol symbol-pink">♡</div>
            </div>

            <div class="main-view" id="mainView">
                <h1 class="main-title">Visite d'Entreprise - Master Informatique</h1>
                <p class="main-subtitle">Architecture Fullstack, DevOps & Data Intelligence</p>

                <div class="main-blocks-container">
                    <div class="main-block block-1" data-section="1">
                        <h3>Introduction</h3>
                        <p>Contexte, Entreprise & Évolution</p>
                    </div>
                    <div class="main-block block-2" data-section="2">
                        <h3>Bilan & Perspectives</h3>
                        <p>Compétences & Sujet de Mémoire</p>
                    </div>
                    <div class="main-block block-3" data-section="3">
                        <h3>Cœur Technique</h3>
                        <p>Docker, NoSQL, Clusters & KPIs</p>
                    </div>
                </div>
            </div>

            <div class="detail-section section-1" id="section1">
                <div class="detail-content">
                    <h2 class="detail-title" id="section1Title">Titre</h2>
                    <p class="detail-text" id="section1Text">Texte</p>
                    <div class="slide-images" id="section1Images"></div>
                </div>
                <div class="slides-grid">
                     </div>
            </div>

            <div class="detail-section section-2" id="section2">
                <div class="detail-content">
                    <h2 class="detail-title" id="section2Title">Titre</h2>
                    <p class="detail-text" id="section2Text">Texte</p>
                    <div class="slide-images" id="section2Images"></div>
                </div>
                <div class="slides-grid"></div>
            </div>

            <div class="detail-section section-3" id="section3">
                <div class="detail-content">
                    <h2 class="detail-title" id="section3Title">Titre</h2>
                    <p class="detail-text" id="section3Text">Texte</p>
                    <div class="slide-images" id="section3Images"></div>
                </div>
                <div class="slides-grid"></div>
            </div>
        </div>
    </div>

    <div class="progress-indicator" id="progressIndicator">
        Yuksel Sinan
    </div>

    <script>
        let currentState = {
            view: 'main',
            section: 0,
            slide: 0
        };

        const canvas = document.getElementById('canvas');
        const progressIndicator = document.getElementById('progressIndicator');

        // --- 3. CONTENU SLIDES MIS A JOUR (AVEC TES IMAGES MAPPÉES) ---
        const slideData = {
            // SECTION 1 : INTRODUCTION
            1: [
                {
                    title: "Contexte de l'alternance",
                    text: "Poursuite de mon parcours chez Assurdix en Master. Passage d'un rôle d'exécutant (Licence) à un rôle d'Architecte Logiciel. Objectif : Industrialiser les outils.",
                    images: ["image/Assurdix.png", "image/Cyu.png"]
                },
                {
                    title: "L'Entreprise : Assurdix",
                    text: "Courtier en assurance en transformation numérique. Gestion de gros volumes de données (+5000 demandes/an) nécessitant des outils robustes.",
                    images: ["image/Assurdix.png"]
                },
                {
                    title: "Mon Évolution",
                    text: "De Développeur Web Junior (Maintenance) à Ingénieur Fullstack & Data. Je suis désormais garant de l'architecture technique et de la BI.",
                    images: ["image/Sinan.png"]
                },
                {
                    title: "Enjeux du Master",
                    text: "Ne plus seulement 'coder', mais garantir la sécurité, la performance des données (NoSQL) et aider la direction à décider (KPIs).",
                    images: ["image/dashboard.jpeg"]
                },
                {
                    title: "Vue d'ensemble",
                    text: "1. Refonte Architecture (Docker)\n2. Données complexes (MongoDB)\n3. Business Intelligence (Clusters).",
                    images: ["image/docker.jpeg"]
                },
                 {
                    title: "L'équipe",
                    text: "Travail en autonomie supervisée. Collaboration avec le lead dev pour la mise en place des nouveaux standards DevOps.",
                    images: ["image/rdv.png"] // Mets une image générique si tu n'as pas rdv.png, ou dashboard.jpeg
                }
            ],

            // SECTION 2 : BILAN & COMPÉTENCES
            2: [
                {
                    title: "Montée en compétence : DevOps",
                    text: "Passage d'environnements locaux à une infrastructure Docker professionnelle. Garantie de l'iso-production.",
                    images: ["image/docker.jpeg"]
                },
                {
                    title: "Montée en compétence : Data",
                    text: "Manipulation de structures JSON complexes et agrégation de données pour le reporting décisionnel.",
                    images: ["image/mongodb.jpeg"]
                },
                {
                    title: "Gestion de Projet",
                    text: "Gestion de bout en bout : Du besoin métier (Suivi des contrats) à la réalisation technique (Dashboard).",
                    images: ["image/dashboard.jpeg"]
                },
                {
                    title: "Soft Skills",
                    text: "Autonomie, Force de proposition sur les choix techniques (NoSQL), Communication avec la direction.",
                    images: ["image/Sinan.png"]
                },
                 {
                    title: "Difficultés",
                    text: "Complexité des requêtes d'agrégation MongoDB et optimisation des performances du Dashboard.",
                    images: ["image/mongodb.jpeg"]
                },
                {
                    title: "Sujet de Mémoire / Futur",
                    text: "Vers le prédictif ? Utiliser les clusters actuels pour anticiper les résiliations (IA/Machine Learning).",
                    images: ["image/stats_graph.jpeg"] // Graphes pour le futur
                }
            ],

            // SECTION 3 : CŒUR TECHNIQUE
            3: [
                {
                    title: "Architecture Micro-services",
                    text: "Migration vers Docker. Isolation des services (Nginx, PHP, Mongo). Stabilité et déploiement facilité.",
                    images: ["image/docker.jpeg"]
                },
                {
                    title: "Base de données NoSQL",
                    text: "MongoDB pour gérer la flexibilité des contrats. Objets imbriqués (Collaborateur, Compagnie, Infos).",
                    images: ["image/mongodb.jpeg"]
                },
                {
                    title: "Pilotage (KPIs)",
                    text: "Dashboard temps réel. Suivi des volumes (5649 devis). Analyse du tunnel de conversion.",
                    images: ["image/dashboard.jpeg"] // GROS CHIFFRES
                },
                {
                    title: "Business Intelligence (Clusters)",
                    text: "Création de clusters (Géo x Produit). Le segment 26-35 ans performe à 70%. Aide à la décision stratégique.",
                    images: ["image/stats_graph.jpeg"] // CAMEMBERTS
                },
                {
                    title: "Automatisation",
                    text: "Cron Jobs : Détection des dossiers dormants et envoi automatique de relances personnalisées (J+7).",
                    images: ["image/mail.png"]
                },
                {
                    title: "Impact Business",
                    text: "Le système travaille pour l'entreprise. Optimisation des taux de transformation et gain de temps.",
                    images: ["image/stats_graph.jpeg"]
                }
            ]
        };

        const viewConfigs = {
            main: { transform: 'translate(-35%, -30%) scale(0.65)', section: 0, slide: 0 },
            section1: { transform: 'translate(-22%, -15%) scale(0.65)', section: 1, maxSlides: 6 },
            section2: { transform: 'translate(-38%, -19%) scale(0.65)', section: 2, maxSlides: 6 },
            section3: { transform: 'translate(-54%, -18%) scale(0.65)', section: 3, maxSlides: 6 }
        };

        // --- TES FONCTIONS ORIGINALES (POUR GARDER LE DESIGN) ---

        // Génère les petits carrés de prévisualisation
        function initGrid(sectionNum) {
            const grid = document.querySelector(`#section${sectionNum} .slides-grid`);
            grid.innerHTML = ''; // Vide l'ancien contenu
            
            slideData[sectionNum].forEach((slide, index) => {
                const div = document.createElement('div');
                div.classList.add('slide-preview');
                if (index === 0) div.classList.add('current');
                
                div.innerHTML = `
                    <h4>${slide.title}</h4>
                    <p>${slide.text.substring(0, 20)}...</p>
                `;
                
                // Clic sur un carré
                div.addEventListener('click', function() {
                    currentState.slide = index;
                    updateSlideContent();
                    updateSlideHighlight();
                    updateProgressIndicator();
                });
                
                grid.appendChild(div);
            });
        }

        document.querySelectorAll('.main-block').forEach(block => {
            block.addEventListener('click', function () {
                const sectionNum = parseInt(this.getAttribute('data-section'));
                initGrid(sectionNum); // On génère la grille au clic
                goToSection(sectionNum);
            });
        });

        function goToSection(sectionNum) {
            document.getElementById('mainView').style.display = 'none';
            document.querySelectorAll('.detail-section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(`section${sectionNum}`).classList.add('active');

            currentState.view = `section${sectionNum}`;
            currentState.section = sectionNum;
            currentState.slide = 0;

            const config = viewConfigs[currentState.view];
            canvas.style.transform = config.transform;

            updateSlideContent();
            updateSlideHighlight();
            updateProgressIndicator();
        }

        function goHome() {
            document.getElementById('mainView').style.display = 'block';
            document.querySelectorAll('.detail-section').forEach(section => {
                section.classList.remove('active');
            });

            currentState.view = 'main';
            currentState.section = 0;
            currentState.slide = 0;

            canvas.style.transform = viewConfigs.main.transform;
            updateProgressIndicator();
        }

        function nextSlide() {
            if (currentState.view === 'main') {
                initGrid(1);
                goToSection(1);
            } else {
                const config = viewConfigs[currentState.view];
                if (currentState.slide < config.maxSlides - 1) {
                    currentState.slide++;
                    updateSlideContent();
                    updateSlideHighlight();
                } else {
                    if (currentState.section < 3) {
                        initGrid(currentState.section + 1);
                        goToSection(currentState.section + 1);
                    } else {
                        goHome();
                    }
                }
            }
            updateProgressIndicator();
        }

        function previousSlide() {
            if (currentState.view === 'main') return;
            
            if (currentState.slide > 0) {
                currentState.slide--;
                updateSlideContent();
                updateSlideHighlight();
            } else {
                if (currentState.section > 1) {
                    const prevSection = currentState.section - 1;
                    initGrid(prevSection);
                    goToSection(prevSection);
                    // Aller à la dernière slide de la section précédente
                    currentState.slide = 5; 
                    updateSlideContent();
                    updateSlideHighlight();
                } else {
                    goHome();
                }
            }
            updateProgressIndicator();
        }

        function updateSlideContent() {
            if (currentState.view === 'main') return;

            const sectionNum = currentState.section;
            const slideNum = currentState.slide;
            const slideInfo = slideData[sectionNum][slideNum];

            const contentElement = document.querySelector(`#section${sectionNum} .detail-content`);
            const titleElement = document.getElementById(`section${sectionNum}Title`);
            const textElement = document.getElementById(`section${sectionNum}Text`);
            const imagesContainer = document.getElementById(`section${sectionNum}Images`);

            // Animation Sortie
            contentElement.classList.remove('active', 'slide-in-up');
            contentElement.classList.add('slide-out-up');
            imagesContainer.classList.add('fade-out');

            setTimeout(() => {
                // Mise à jour Données
                titleElement.textContent = slideInfo.title;
                textElement.textContent = slideInfo.text;

                imagesContainer.innerHTML = '';
                if (slideInfo.images && slideInfo.images.length > 0) {
                    slideInfo.images.forEach(src => {
                        const img = document.createElement('img');
                        img.src = src;
                        img.classList.add('slide-img');
                        // Gère les erreurs d'image sans casser le design
                        img.onerror = function() { this.style.display = "none"; }; 
                        imagesContainer.appendChild(img);
                    });
                }

                // Animation Entrée
                contentElement.classList.remove('slide-out-up');
                contentElement.classList.add('slide-in-up');
                imagesContainer.classList.remove('fade-out');

                setTimeout(() => {
                    contentElement.classList.remove('slide-in-up');
                    contentElement.classList.add('active');
                }, 50);

            }, 400); // Temps de la transition CSS
        }

        function updateSlideHighlight() {
            if (currentState.view === 'main') return;
            const currentSection = document.getElementById(`section${currentState.section}`);
            const previews = currentSection.querySelectorAll('.slide-preview');
            previews.forEach((preview, index) => {
                preview.classList.toggle('current', index === currentState.slide);
            });
        }

        function updateProgressIndicator() {
            let text = '';
            if (currentState.view === 'main') {
                text = 'Vue principale';
            } else {
                const sectionNames = ['', 'Introduction', 'Bilan', 'Cœur Technique'];
                text = `${sectionNames[currentState.section]} - Slide ${currentState.slide + 1}/6`;
            }
            progressIndicator.textContent = text;
        }

        // --- TA NAVIGATION CLAVIER (REMISE EXACTEMENT COMME AVANT) ---
        document.addEventListener('keydown', function (e) {
            switch (e.key) {
                case 'ArrowRight':
                case ' ':
                    e.preventDefault();
                    nextSlide();
                    break;
                case 'ArrowLeft':
                    e.preventDefault();
                    previousSlide();
                    break;
                case 'F11':
                    e.preventDefault();
                    if (!document.fullscreenElement) {
                        document.documentElement.requestFullscreen();
                    } else {
                        document.exitFullscreen();
                    }
                    break;
            }
        });

        // Initialisation
        updateProgressIndicator();
        document.getElementById('mainView').style.display = 'block';
        
        // Bouton Fullscreen
        function createFullscreenButton() {
            const button = document.createElement('button');
            button.innerHTML = '⛶';
            button.style.cssText = `
                position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
                width: 40px; height: 40px; background: rgba(255,255,255,0.9);
                border: 2px solid #333; border-radius: 8px; cursor: pointer; z-index: 10000;
            `;
            button.onclick = function () {
                if (document.fullscreenElement) document.exitFullscreen();
                else document.documentElement.requestFullscreen();
            };
            document.body.appendChild(button);
        }
        document.addEventListener('DOMContentLoaded', createFullscreenButton);
    </script>
</body>
</html>